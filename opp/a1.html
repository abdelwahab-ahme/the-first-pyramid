<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="img/Ø§ÙŠÙ‚ÙˆÙ†Ø©.ico" type="image/x-icon">
  <title>Ø§Ù„Ø§Ø­ØµØ§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠ</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(#200016,#10001f);
      font-family: 'Cairo', sans-serif;
      direction: rtl;
      color: #fff;
    }

    /* ===== Ø´Ø±ÙŠØ· Ø§Ù„Ø£Ø¯ÙˆØ§Øª ===== */
    a{ text-decoration: none; color: #fff; }
    header{
      position: fixed;
      top:0;
      left:0;
      width: 100%;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(6px);
    }
    header .logo{
      font-size: 24px;
      font-weight: bold;
    }
    header ul{
      display: flex;
      list-style: none;
      gap: 20px;
    }
    header ul li a{
      padding: 6px 15px;
      border-radius: 20px;
      transition: 0.3s;
    }
    header ul li a:hover, .active{
      background: #fff;
      color: #200016;
    }
    .menu-toggle {
      display: none;
      font-size: 26px;
      cursor: pointer;
      background: none;
      border: none;
      color: #fff;
    }

    /* ===== Ø§Ù„Ø´Ø¬Ø±Ø© ===== */
    .tree-container {
      width: 100%;
      padding: 90px 10px 20px; /* padding-top Ø¹Ø´Ø§Ù† Ø§Ù„Ù‡ÙŠØ¯Ø± */
      overflow-x: auto;
    }
    svg {
      width: 100%;
      max-width: 1100px;
      height: auto;
      margin: auto;
      display: block;
    }

    .node { cursor: pointer; transform: scale(0); transition: transform 0.5s ease; }
    .node.show { transform: scale(1); }

    .node text.icon {
      font-size: 28px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease, transform 0.3s ease;
    }
    .node text.icon.show { opacity: 1; }
    .node:hover text.icon { transform: scale(1.4); }

    .label {
      font-size: 14px;
      font-weight: bold;
      fill: white;
      text-anchor: middle;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .label.show { opacity: 1; }

    .root { fill: #8d6e63; stroke: #5d4037; }
    path.branch {
      stroke: #5d4037;
      stroke-width: 3.5;
      fill: none;
      stroke-dasharray: 400;
      stroke-dashoffset: 400;
      animation: grow 1.5s forwards;
    }
    @keyframes grow { to { stroke-dashoffset: 0; } }

    .leaf { fill: #66bb6a; opacity: 0; transition: opacity 0.8s ease; }
    .leaf.show { opacity: 1; }

    .node.midterm text.icon { font-size: 32px; fill: #ffeb3b; }
    .node.final text.icon { font-size: 34px; fill: #ff9800; }

    .section-node text.icon { font-size: 40px; fill: #4caf50; }
    .section-node .label { font-size: 18px; fill: #a5d6a7; }

    /* ===== Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ===== */
    @media (max-width: 768px){
      header ul {
        display: none;
        flex-direction: column;
        background: rgba(0,0,0,0.9);
        position: absolute;
        top: 60px;
        right: 20px;
        width: 200px;
        border-radius: 10px;
        padding: 15px;
      }
      header ul.show { display: flex; }
      .menu-toggle { display: block; }
      .tree-container { padding-top: 70px; }
      svg { max-width: 100%; }
      .label { font-size: 12px; }
    }
  </style>
</head>
<body>

  <!-- ===== Ø§Ù„Ù‡ÙŠØ¯Ø± ===== -->
  <header>
    <h2><a href="./night.html" class="logo">Hagag</a></h2>
    <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
    <ul id="navMenu">
        <li><a href="./night.html" class="active">Home</a></li>
    </ul>
  </header>

  <!-- ===== Ø§Ù„Ø´Ø¬Ø±Ø© ===== -->
  <div class="tree-container">
    <svg id="tree" viewBox="0 0 1200 1100" preserveAspectRatio="xMidYMin meet">
      <!-- Ø§Ù„Ø¬Ø°Ø¹ -->
      <rect x="580" y="850" width="40" height="200" class="root"></rect>
      <!-- Ø§Ù„Ø¬Ø°ÙˆØ± -->
      <path d="M580 1050 C560 1080, 600 1080, 580 1110" stroke="#5d4037" stroke-width="6" fill="none"/>
      <path d="M620 1050 C640 1080, 600 1080, 620 1110" stroke="#5d4037" stroke-width="6" fill="none"/>
      <text x="600" y="830" text-anchor="middle" class="label show">ðŸ“˜ Ø§Ù„Ø§Ø­ØµØ§Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠ</text>
    </svg>
  </div>

  <footer style="text-align:center; padding:20px; font-size:14px; color:#aaa;">
    &copy; 2023 Abdelwahab Ahmed
  </footer>

  <script>
    // toggle menu
    function toggleMenu() {
      document.getElementById("navMenu").classList.toggle("show");
    }

    const lectures = [
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 1", link: "./pdf/Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª 1.pdf", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 2", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 3", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 4", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 5", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 6", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 7", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 8", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 9", link: "#", icon: "ðŸ“–" },
      { title: "Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© 10", link: "#", icon: "ðŸ“–" },
      { title: "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…ÙŠØ¯ØªØ±Ù…", link: "#", icon: "ðŸ“" },
      { title: "Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©", link: "#", icon: "ðŸŽ¯" }
    ];

    const svg = document.getElementById("tree");
    const centerX = 600, startY = 850;
    const offsetY = 70;

    function addLeaf(x, y, delay) {
      const leaf = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
      const rx = Math.random() * 8 + 4;
      const ry = rx / 2;
      leaf.setAttribute("cx", x + (Math.random() * 40 - 20));
      leaf.setAttribute("cy", y + (Math.random() * 30 - 15));
      leaf.setAttribute("rx", rx);
      leaf.setAttribute("ry", ry);
      leaf.setAttribute("class", "leaf");
      svg.appendChild(leaf);
      setTimeout(() => leaf.classList.add("show"), delay);
    }

    lectures.forEach((lec, i) => {
      const side = i % 2 === 0 ? 1 : -1;
      const level = Math.floor(i / 2) + 1;
      const offsetX = 220 * side;
      const offsetYtotal = level * offsetY;

      const x = centerX + offsetX;
      const y = startY - offsetYtotal;

      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const midX = centerX + offsetX / 2;
      path.setAttribute("d", `M${centerX},${startY - (level - 1) * offsetY} Q${midX},${y} ${x},${y}`);
      path.setAttribute("class", "branch");
      path.style.animationDelay = `${i * 0.4}s`;
      svg.appendChild(path);

      const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
      g.setAttribute("class", "node");
      if (lec.title.includes("Ù…ÙŠØ¯ØªØ±Ù…")) g.classList.add("midterm");
      if (lec.title.includes("Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©")) g.classList.add("final");

      g.addEventListener("click", () => window.open(lec.link, "_blank"));

      const icon = document.createElementNS("http://www.w3.org/2000/svg", "text");
      icon.setAttribute("x", x);
      icon.setAttribute("y", y + 5);
      icon.setAttribute("text-anchor", "middle");
      icon.setAttribute("class", "icon");
      icon.textContent = lec.icon;
      g.appendChild(icon);

      const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
      text.setAttribute("x", x);
      text.setAttribute("y", y + 30);
      text.setAttribute("class", "label");
      text.textContent = lec.title;
      g.appendChild(text);

      svg.appendChild(g);

      setTimeout(() => {
        g.classList.add("show");
        icon.classList.add("show");
        text.classList.add("show");
      }, (i + 1) * 400);

      for (let j = 0; j < 3; j++) {
        addLeaf(x, y, (i + 1) * 500 + j * 200);
      }
    });

    // ÙØ±Ø¹ Ø§Ù„Ø³ÙƒØ§Ø´Ù†
    const secX = centerX + 350;
    const secY = startY - 150;

    const secPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
    secPath.setAttribute("d", `M${centerX},${startY} Q${centerX+200},${secY+100} ${secX},${secY}`);
    secPath.setAttribute("class", "branch");
    svg.appendChild(secPath);

    const secG = document.createElementNS("http://www.w3.org/2000/svg", "g");
    secG.setAttribute("class", "node section-node");
    secG.addEventListener("click", () => {
      window.open("a-1.html", "_blank");
    });
    
    const secIcon = document.createElementNS("http://www.w3.org/2000/svg", "text");
    secIcon.setAttribute("x", secX);
    secIcon.setAttribute("y", secY + 5);
    secIcon.setAttribute("text-anchor", "middle");
    secIcon.setAttribute("class", "icon");
    secIcon.textContent = "ðŸŒ¿";
    secG.appendChild(secIcon);

    const secText = document.createElementNS("http://www.w3.org/2000/svg", "text");
    secText.setAttribute("x", secX);
    secText.setAttribute("y", secY + 30);
    secText.setAttribute("class", "label");
    secText.textContent = "Ø§Ù„Ø³ÙƒØ§Ø´Ù†";
    secG.appendChild(secText);

    svg.appendChild(secG);

    setTimeout(() => {
      secG.classList.add("show");
      secIcon.classList.add("show");
      secText.classList.add("show");
    }, (lectures.length + 1) * 400);

    for (let j = 0; j < 5; j++) {
      addLeaf(secX, secY, (lectures.length + 2) * 400 + j * 200);
    }
  </script>
</body>
</html>
