<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÿßŸÑÿßÿ≠ÿµÿßÿ° ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇŸä</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(#200016, #10001f);
      font-family: 'Cairo', sans-serif;
      direction: rtl;
      color: #fff;
      overflow-x: hidden;
    }

    /* ===== ÿßŸÑŸáŸäÿØÿ± ===== */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 100;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px 20px;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(6px);
    }
    header h2 {
      margin: 0;
    }
    header .logo {
      font-size: 26px;
      text-transform: uppercase;
      color: #fff;
      text-decoration: none;
    }
    header ul {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      gap: 20px;
    }
    header ul li a {
      padding: 6px 15px;
      border-radius: 20px;
      color: #fff;
      text-decoration: none;
      transition: 0.3s;
    }
    header ul li a:hover,
    .active {
      background: #fff;
      color: #200016;
    }

    /* ===== ÿßŸÑÿ¥ÿ¨ÿ±ÿ© ===== */
    .tree-container {
      margin-top: 160px;
      padding: 10px;
      display: flex;
      justify-content: center;
    }
    svg {
      max-width: 1200px;
      width: 95%;
      height: auto;
    }

    .node {
      cursor: pointer;
      transform: scale(0);
      transition: transform 0.5s ease;
    }
    .node.show { transform: scale(1); }

    .node text.icon {
      font-size: 36px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease, transform 0.3s ease;
    }
    .node text.icon.show { opacity: 1; }
    .node:hover text.icon { transform: scale(1.4); }

    .label {
      font-size: 18px;
      font-weight: bold;
      fill: white;
      text-anchor: middle;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .label.show { opacity: 1; }

    .root { fill: #8d6e63; stroke: #5d4037; }

    path.branch {
      stroke: #5d4037;
      stroke-width: 4;
      fill: none;
      stroke-dasharray: 400;
      stroke-dashoffset: 400;
      animation: grow 1.5s forwards;
    }
    @keyframes grow { to { stroke-dashoffset: 0; } }

    .leaf {
      fill: #66bb6a;
      opacity: 0;
      transition: opacity 0.8s ease;
    }
    .leaf.show { opacity: 1; }

    .node.midterm text.icon { font-size: 40px; fill: #ffeb3b; }
    .node.final text.icon { font-size: 42px; fill: #ff9800; }
    .section-node text.icon { font-size: 44px; fill: #4caf50; }
    .section-node .label { font-size: 20px; fill: #a5d6a7; }

    /* ===== ÿ±Ÿäÿ≥ÿ®ŸàŸÜÿ≥ŸäŸÅ ===== */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
      header ul {
        flex-wrap: wrap;
        justify-content: center;
      }
      .tree-container {
        margin-top: 120px;
        padding: 0;
      }

      /* ÿ™ŸÉÿ®Ÿäÿ± ÿßŸÑÿ¥ÿ¨ÿ±ÿ© ÿπŸÑŸâ ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ */
      svg {
        width: 100vw;
        height: 100vh;
      }
      .node text.icon { font-size: 90px; }
      .label { font-size: 32px; }
    }
  </style>
</head>
<body>

  <header>
    <h2><a href="./night.html" class="logo">hagag</a></h2>
    <ul>
      <li><a href="./night.html" class="active">Home</a></li>
    </ul>
  </header>

  <div class="tree-container">
    <svg id="tree" viewBox="0 0 1400 1600" preserveAspectRatio="xMidYMid meet">
      <!-- ÿßÿ≥ŸÖ ÿßŸÑŸÖÿßÿØÿ© ŸÅŸàŸÇ -->
      <text x="700" y="120" text-anchor="middle" class="label show" style="font-size:36px;fill:#ffeb3b;">
        üìò ÿßŸÑÿßÿ≠ÿµÿßÿ° ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇŸä
      </text>

      <!-- ÿßŸÑÿ¨ÿ∞ÿπ -->
      <rect x="680" y="950" width="40" height="200" class="root"></rect>

      <!-- ÿßŸÑÿ¨ÿ∞Ÿàÿ± -->
      <path d="M680 1150 C660 1180, 700 1180, 680 1210" stroke="#5d4037" stroke-width="6" fill="none"/>
      <path d="M720 1150 C740 1180, 700 1180, 720 1210" stroke="#5d4037" stroke-width="6" fill="none"/>
    </svg>
  </div>

  <p style="text-align:center;margin:30px 0;">copyright &copy; 2023 Abdelwahab Ahmed</p>

  <script>
    const lectures = [
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 1", link: "./pdf/ŸÇŸàÿßÿπÿØ ÿ®ŸäÿßŸÜÿßÿ™ 1.pdf", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 2", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 3", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 4", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 5", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 6", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 7", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 8", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 9", link: "#", icon: "üìñ" },
      { title: "ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ© 10", link: "#", icon: "üìñ" },
      { title: "ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑŸÖŸäÿØÿ™ÿ±ŸÖ", link: "#", icon: "üìù" },
      { title: "ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©", link: "#", icon: "üéØ" }
    ];

    const svg = document.getElementById("tree");
    const centerX = 700, startY = 950;
    const offsetY = 100; // ÿ≤ŸàÿØŸÜÿß ÿßŸÑŸÖÿ≥ÿßŸÅÿßÿ™ ÿ®ŸäŸÜ ÿßŸÑŸÅÿ±Ÿàÿπ

    function addLeaf(x, y, delay) {
      const leaf = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
      const rx = Math.random() * 10 + 5;
      const ry = rx / 2;
      leaf.setAttribute("cx", x + (Math.random() * 40 - 20));
      leaf.setAttribute("cy", y + (Math.random() * 30 - 15));
      leaf.setAttribute("rx", rx);
      leaf.setAttribute("ry", ry);
      leaf.setAttribute("class", "leaf");
      svg.appendChild(leaf);
      setTimeout(() => leaf.classList.add("show"), delay);
    }

    lectures.forEach((lec, i) => {
      const side = i % 2 === 0 ? 1 : -1;
      const level = Math.floor(i / 2) + 1;
      const offsetX = 260 * side; // ÿßŸÑŸÖÿ≥ÿßŸÅÿ© ŸäŸÖŸäŸÜ Ÿàÿ¥ŸÖÿßŸÑ
      const offsetYtotal = level * offsetY;

      const x = centerX + offsetX;
      const y = startY - offsetYtotal;

      const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
      const midX = centerX + offsetX / 2;
      path.setAttribute("d", `M${centerX},${startY - (level - 1) * offsetY} Q${midX},${y} ${x},${y}`);
      path.setAttribute("class", "branch");
      path.style.animationDelay = `${i * 0.4}s`;
      svg.appendChild(path);

      const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
      g.setAttribute("class", "node");
      if (lec.title.includes("ŸÖŸäÿØÿ™ÿ±ŸÖ")) g.classList.add("midterm");
      if (lec.title.includes("ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©")) g.classList.add("final");

      g.addEventListener("click", () => window.open(lec.link, "_blank"));

      // ÿßŸÑÿ£ŸäŸÇŸàŸÜÿ©
      const icon = document.createElementNS("http://www.w3.org/2000/svg", "text");
      icon.setAttribute("x", x);
      icon.setAttribute("y", y + 20);
      icon.setAttribute("text-anchor", "middle");
      icon.setAttribute("class", "icon");
      icon.textContent = lec.icon;
      g.appendChild(icon);

      // ÿßŸÑŸÜÿµ ŸÅŸàŸÇ ÿßŸÑÿ£ŸäŸÇŸàŸÜÿ©
      const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
      text.setAttribute("x", x);
      text.setAttribute("y", y - 15);
      text.setAttribute("class", "label");
      text.textContent = lec.title;
      g.appendChild(text);

      svg.appendChild(g);

      setTimeout(() => {
        g.classList.add("show");
        icon.classList.add("show");
        text.classList.add("show");
      }, (i + 1) * 400);

      for (let j = 0; j < 4; j++) {
        addLeaf(x, y, (i + 1) * 500 + j * 200);
      }
    });

    // ŸÅÿ±ÿπ ÿßŸÑÿ≥ŸÉÿßÿ¥ŸÜ
    const secX = centerX + 400;
    const secY = startY - 300;

    const secPath = document.createElementNS("http://www.w3.org/2000/svg", "path");
    secPath.setAttribute("d", `M${centerX},${startY} Q${centerX+250},${secY+100} ${secX},${secY}`);
    secPath.setAttribute("class", "branch");
    svg.appendChild(secPath);

    const secG = document.createElementNS("http://www.w3.org/2000/svg", "g");
    secG.setAttribute("class", "node section-node");
    secG.addEventListener("click", () => window.open("a-1.html", "_blank"));

    const secIcon = document.createElementNS("http://www.w3.org/2000/svg", "text");
    secIcon.setAttribute("x", secX);
    secIcon.setAttribute("y", secY + 20);
    secIcon.setAttribute("text-anchor", "middle");
    secIcon.setAttribute("class", "icon");
    secIcon.textContent = "üåø";
    secG.appendChild(secIcon);

    const secText = document.createElementNS("http://www.w3.org/2000/svg", "text");
    secText.setAttribute("x", secX);
    secText.setAttribute("y", secY - 15);
    secText.setAttribute("class", "label");
    secText.textContent = "ÿßŸÑÿ≥ŸÉÿßÿ¥ŸÜ";
    secG.appendChild(secText);

    svg.appendChild(secG);

    setTimeout(() => {
      secG.classList.add("show");
      secIcon.classList.add("show");
      secText.classList.add("show");
    }, (lectures.length + 1) * 400);

    for (let j = 0; j < 6; j++) {
      addLeaf(secX, secY, (lectures.length + 2) * 400 + j * 200);
    }
  </script>
</body>
</html>
